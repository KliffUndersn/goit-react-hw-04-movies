(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{34:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(26),r=a.n(s),i=a(4),j=(a(34),a(2)),l=a(9),h=a(27),o=a.n(h).a.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"339fd6919ca70eae9b795e3800d9b2f5"}}),b=a(0);function d(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){o.get("/trending/all/day?").then(n)}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("ul",{className:"ImageGallery",children:null===a||void 0===a?void 0:a.data.results.map((function(e){return Object(b.jsx)("li",{className:"ImageGalleryItem",children:Object(b.jsxs)(i.b,{to:{pathname:"movie/".concat(e.id),state:"fromHome"},children:[Object(b.jsx)("h1",{className:"Searchbar ",children:e.original_title||e.name}),Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/w500"+e.backdrop_path,alt:"",className:"ImageGalleryItem-image"})]})},e.id)}))})})}var m=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(j.h)();return Object(c.useEffect)((function(){var e;(e=s.id,o.get("/movie/".concat(e,"/credits?&language=en-US"))).then(n)}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("ul",{className:"ImageGallery",children:a&&a.data.cast.map((function(e){return Object(b.jsxs)("li",{className:"ImageGalleryItem",children:[Object(b.jsx)("h5",{children:e.name}),Object(b.jsx)("p",{children:e.known_for_department}),Object(b.jsx)("img",{alt:"",src:"https://image.tmdb.org/t/p/w500"+e.profile_path,className:"ImageGalleryItem-image"})]},e.id)}))})})},u=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(j.h)();return Object(c.useEffect)((function(){var e;(e=s.id,o.get("/movie/".concat(e,"/reviews?&language=en-US"))).then(n)}),[]),Object(b.jsx)(b.Fragment,{children:a&&a.data.results.map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h6",{children:"Expert review : "})," ",Object(b.jsx)("p",{children:e.content})]},e.id)}))})};function O(){var e,t=Object(c.useState)(null),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(j.f)(),h=Object(j.g)(),d=Object(j.h)(),O=Object(j.i)(),p=O.path,x=O.url;Object(c.useEffect)((function(){var e;(e=d.id,o.get("/movie/".concat(e))).then(s)}),[]);var g=new URLSearchParams(h.search).get("search"),v=null===r||void 0===r||null===(e=r.location)||void 0===e?void 0:e.state;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{type:"button",onClick:function(){"fromHome"===h.state&&r.push("/"),g?(v||r.push({pathname:"/movie",search:"search=".concat(g)}),r.push({pathname:v,search:"search=".concat(g)})):r.push("/")},className:"Button",children:"Go back"}),(null===n||void 0===n?void 0:n.data)&&Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{alt:"",src:"https://image.tmdb.org/t/p/w500"+n.data.backdrop_path}),Object(b.jsxs)("h1",{children:[n.data.original_title||n.data.name," ","(",n.data.release_date,")"]}),Object(b.jsxs)("p",{children:["User vote : ",n.data.vote_average]}),Object(b.jsx)("h2",{children:"Overview:"})," ",Object(b.jsx)("p",{children:n.data.overview}),Object(b.jsx)("h3",{children:"Genres"}),Object(b.jsx)("p",{children:n.data.genres.map((function(e){return Object(b.jsxs)("span",{children:[" ",e.name," "]},e.id)}))})]},1),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"Additional information"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)(i.b,{to:{pathname:"".concat(x,"/Cast"),search:g&&"search=".concat(g)},children:Object(b.jsx)("li",{children:"Cast"})}),Object(b.jsx)(i.b,{to:{pathname:"".concat(x,"/Reviews"),search:g&&"search=".concat(g)},children:Object(b.jsx)("li",{children:"Reviews"})})]})]},2),Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{path:"".concat(p,"/Cast"),children:Object(b.jsx)(m,{})}),Object(b.jsx)(j.a,{path:"".concat(p,"/Reviews"),children:Object(b.jsx)(u,{})})]})]})}function p(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),r=Object(l.a)(s,2),h=r[0],d=r[1],m=Object(c.useState)(""),u=Object(l.a)(m,2),O=u[0],p=u[1],x=Object(j.f)(),g=Object(j.g)(),v=new URLSearchParams(g.search).get("search");Object(c.useEffect)((function(){var e;console.log(v),v&&p(v),O&&(e=O,o.get("search/movie?&language=en-US&",{params:{query:e}})).then(n)}),[O]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),x.push({pathname:g.pathname,search:"search=".concat(h)}),console.log(x),p(h)},children:[Object(b.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(b.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(b.jsx)("input",{className:"searchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search film",onChange:function(e){return d(e.target.value)},value:h})]}),Object(b.jsx)("ul",{className:"ImageGallery",children:null===a||void 0===a?void 0:a.data.results.map((function(e){return Object(b.jsx)("li",{className:"ImageGalleryItem",children:Object(b.jsxs)(i.b,{to:{pathname:"movie/".concat(e.id),state:g.pathname,search:"search=".concat(h||v)},children:[Object(b.jsx)("h1",{className:"Searchbar ",children:e.original_title||e.name}),Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/w500"+e.backdrop_path,alt:""})]})},e.id)}))})]})}var x=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("h3",{className:"Navbar",children:[Object(b.jsxs)(i.b,{className:"Navbar",to:"/",children:["HomePage"," "]}),Object(b.jsxs)(i.b,{className:"Navbar",to:"/movie",children:[" ","Search"]})]})})};var g=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,{}),Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{path:"/",exact:!0,children:Object(b.jsx)(d,{})}),Object(b.jsx)(j.a,{path:"/movie",exact:!0,children:Object(b.jsx)(p,{})}),Object(b.jsx)(j.a,{path:"/movie/:id",children:Object(b.jsx)(O,{})})]})]})};r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(i.a,{children:Object(b.jsx)(g,{})})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.7234d98d.chunk.js.map